var n=Object.defineProperty,l=(r,e,t)=>e in r?n(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,o=(r,e,t)=>(l(r,typeof e!="symbol"?e+"":e,t),t);class h{constructor(){o(this,"listeners",new Map)}on(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),this}off(e,t){return t?(this.listeners.get(e)?.delete(t),this):(this.listeners.delete(e),this)}emit(e,...t){return this.listeners.get(e)?.forEach(i=>{try{i(...t)}catch(s){this.emit("error",s),console.error(`Error in ${String(e)} listener:`,s)}}),this}}export{h as EventEmitter};
