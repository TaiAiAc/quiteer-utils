"use strict";var a=Object.defineProperty,o=(r,t,e)=>t in r?a(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,i=(r,t,e)=>(o(r,typeof t!="symbol"?t+"":t,e),e);class EventEmitter{constructor(){i(this,"listeners",new Map)}on(t,e){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(e),this}off(t,e){return e?(this.listeners.get(t)?.delete(e),this):(this.listeners.delete(t),this)}emit(t,...e){return this.listeners.get(t)?.forEach(n=>{try{n(...e)}catch(s){this.emit("error",s),console.error(`Error in ${String(t)} listener:`,s)}}),this}}exports.EventEmitter=EventEmitter;
